(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[5],{80:function(t,e,o){"use strict";o.r(e),o.d(e,"default",(function(){return n}));var i=o(58),r=o(59),s=o(63),a=o(3),n=function(){function t(){Object(i.a)(this,t),this.DOM={portfolio:".js-portfolio",portfolioItem:".js-portfolio-item",portfolioPreviewList:".js-portfolio-preview-list",portfolioPreviewItem:".js-portfolio-preview-item",portfolioCanvas:".js-portfolio-canvas"},this.navStatus=!1,this.portfolio=document.querySelector(this.DOM.portfolio),this.portfolioItems=document.querySelectorAll(this.DOM.portfolioItem),this.portfolioPreviewList=document.querySelector(this.DOM.portfolioPreviewList),this.portfolioPreviewItems=document.querySelectorAll(this.DOM.portfolioPreviewItem),this.portfolioCanvas=document.querySelector(this.DOM.portfolioCanvas),this.app=null,this.displacementTimeline=null}return Object(r.a)(t,[{key:"updateNavStatus",value:function(t){this.navStatus=t}},{key:"init",value:function(){null!==this.portfolio?(this.portfolioEvents(),this.portfolioController()):console.error("".concat(this.DOM.portfolio," does not exist in the DOM!"))}},{key:"portfolioEvents",value:function(){for(var t=this,e=function(e){t.portfolioItems[e].addEventListener("mouseenter",(function(){t.portfolioItemMouseenter(e+1)})),t.portfolioItems[e].addEventListener("mouseleave",(function(){t.portfolioItemMouseleave()}))},o=0;o<this.portfolioItems.length;o++)e(o)}},{key:"portfolioController",value:function(){var t=document.querySelector(".menu__images__canvas").getBoundingClientRect(),e=window.innerWidth-t.x,o=t.height;this.app=new s.Application({width:e,height:o,resolution:window.devicePixelRatio,transparent:!0}),this.portfolioCanvas.appendChild(this.app.view);var i=this.portfolioCanvas.getAttribute("data-displacement-map"),r=new s.Sprite.from(i),n=new s.filters.DisplacementFilter(r);r.name=i,r.anchor.set(.5),r.scale.set(1),r.width=e,r.height=o,r.position.set(e/2,o/2),this.app.stage.filterArea=this.app.screen,this.app.stage.filters=[n],this.app.stage.addChild(r);for(var l=0;l<this.portfolioItems.length;l++){var p=this.portfolioPreviewItems[l].getAttribute("data-portfolio-preview"),u=new s.Texture.from(p),h=new s.Sprite(u);h.name=p,h.alpha=0,h.width=e,h.height=o,this.app.stage.addChild(h)}this.displacementTimeline=a.b.timeline({paused:!0});var f=this.portfolioCanvas.querySelector("canvas");this.displacementTimeline.add("start").fromTo(f,{autoAlpha:0},{duration:.4,autoAlpha:1,ease:"power3.out"},"start").fromTo(f,{scale:1.5},{duration:.8,scale:1,ease:"power3.out"},"start").fromTo(n.scale,{x:150,y:150},{duration:1.6,x:0,y:0,ease:"power3.out",onComplete:function(){}},"start")}},{key:"portfolioItemMouseenter",value:function(t){var e=this;!0===this.navStatus&&a.b.to(this.app.stage.children[t],{duration:.6,alpha:1,ease:"power3.out",onStart:function(){e.displacementTimeline.restart().pause(),e.displacementTimeline.play()}})}},{key:"portfolioItemMouseleave",value:function(){a.b.to(this.app.stage.children,{duration:.4,alpha:0,ease:"power3.out"})}}]),t}()}}]);
//# sourceMappingURL=5.81c6d527.chunk.js.map