(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[20],{118:function(t,e){},172:function(t,e,o){"use strict";o.r(e),o.d(e,"default",(function(){return r}));var i=o(129),s=o(4);class r{constructor(){this.DOM={portfolio:".js-portfolio",portfolioItem:".js-portfolio-item",portfolioPreviewList:".js-portfolio-preview-list",portfolioPreviewItem:".js-portfolio-preview-item",portfolioCanvas:".js-portfolio-canvas"},this.navStatus=!1,this.portfolio=document.querySelector(this.DOM.portfolio),this.portfolioItems=document.querySelectorAll(this.DOM.portfolioItem),this.portfolioPreviewList=document.querySelector(this.DOM.portfolioPreviewList),this.portfolioPreviewItems=document.querySelectorAll(this.DOM.portfolioPreviewItem),this.portfolioCanvas=document.querySelector(this.DOM.portfolioCanvas),this.app=null,this.displacementTimeline=null}updateNavStatus(t){this.navStatus=t}init(){null!==this.portfolio?(this.portfolioEvents(),this.portfolioController()):console.error("".concat(this.DOM.portfolio," does not exist in the DOM!"))}portfolioEvents(){for(let t=0;t<this.portfolioItems.length;t++)this.portfolioItems[t].addEventListener("mouseenter",()=>{this.portfolioItemMouseenter(t+1)}),this.portfolioItems[t].addEventListener("mouseleave",()=>{this.portfolioItemMouseleave()})}portfolioController(){let t=document.querySelector(".menu__images__canvas").getBoundingClientRect();const e=window.innerWidth-t.x,o=t.height;this.app=new i.Application({width:e,height:o,resolution:window.devicePixelRatio,transparent:!0}),this.portfolioCanvas.appendChild(this.app.view);const r=this.portfolioCanvas.getAttribute("data-displacement-map"),a=new i.Sprite.from(r),l=new i.filters.DisplacementFilter(a);a.name=r,a.anchor.set(.5),a.scale.set(1),a.width=e,a.height=o,a.position.set(e/2,o/2),this.app.stage.filterArea=this.app.screen,this.app.stage.filters=[l],this.app.stage.addChild(a);for(let s=0;s<this.portfolioItems.length;s++){const t=this.portfolioPreviewItems[s].getAttribute("data-portfolio-preview"),r=new i.Texture.from(t),a=new i.Sprite(r);a.name=t,a.alpha=0,a.width=e,a.height=o,this.app.stage.addChild(a)}this.displacementTimeline=s.b.timeline({paused:!0});const p=this.portfolioCanvas.querySelector("canvas");this.displacementTimeline.add("start").fromTo(p,{autoAlpha:0},{duration:.4,autoAlpha:1,ease:"power3.out"},"start").fromTo(p,{scale:1.5},{duration:.8,scale:1,ease:"power3.out"},"start").fromTo(l.scale,{x:150,y:150},{duration:1.6,x:0,y:0,ease:"power3.out",onComplete:()=>{}},"start")}portfolioItemMouseenter(t){!0===this.navStatus&&s.b.to(this.app.stage.children[t],{duration:.6,alpha:1,ease:"power3.out",onStart:()=>{this.displacementTimeline.restart().pause(),this.displacementTimeline.play()}})}portfolioItemMouseleave(){s.b.to(this.app.stage.children,{duration:.4,alpha:0,ease:"power3.out"})}}}}]);
//# sourceMappingURL=20.0fb9da84.chunk.js.map