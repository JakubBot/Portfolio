{"version":3,"sources":["components/navbar/pixiListController.js"],"names":["PortfolioListController","this","DOM","portfolio","portfolioItem","portfolioPreviewList","portfolioPreviewItem","portfolioCanvas","navStatus","document","querySelector","portfolioItems","querySelectorAll","portfolioPreviewItems","app","displacementTimeline","portfolioEvents","portfolioController","console","error","i","addEventListener","portfolioItemMouseenter","portfolioItemMouseleave","length","canvasContainer","getBoundingClientRect","canvasWidth","window","innerWidth","x","canvasHeight","height","PIXI","width","resolution","devicePixelRatio","transparent","appendChild","view","displacementMapFile","getAttribute","displacementMap","from","displacementFilter","DisplacementFilter","name","anchor","set","scale","position","stage","filterArea","screen","filters","addChild","imageFile","texture","image","alpha","gsap","timeline","paused","canvasElement","add","fromTo","autoAlpha","duration","ease","y","onComplete","index","to","children","onStart","restart","pause","play"],"mappings":"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","file":"static/js/5.890e1bf2.chunk.js","sourcesContent":["import * as PIXI from \"pixi.js\";\nimport { gsap } from \"gsap\";\n\nexport default class PortfolioListController {\n  constructor() {\n    /**\n     * @type {{navigation: string, states: {navigationSlideUp: string, navigationScrolled: string, navigationFixed: string}}}\n     */\n\n    this.DOM = {\n      portfolio: \".js-portfolio\",\n      portfolioItem: \".js-portfolio-item\",\n      portfolioPreviewList: \".js-portfolio-preview-list\",\n      portfolioPreviewItem: \".js-portfolio-preview-item\",\n      portfolioCanvas: \".js-portfolio-canvas\",\n    };\n    this.navStatus = false;\n    /**\n     *\n     * @type {Element}\n     */\n    this.portfolio = document.querySelector(this.DOM.portfolio);\n\n    /**\n     *\n     * @type {NodeListOf<Element>}\n     */\n    this.portfolioItems = document.querySelectorAll(this.DOM.portfolioItem);\n\n    /**\n     *\n     * @type {Element}\n     */\n    this.portfolioPreviewList = document.querySelector(\n      this.DOM.portfolioPreviewList\n    );\n\n    /**\n     *\n     * @type {NodeListOf<Element>}\n     */\n    this.portfolioPreviewItems = document.querySelectorAll(\n      this.DOM.portfolioPreviewItem\n    );\n\n    /**\n     *\n     * @type {Element}\n     */\n    this.portfolioCanvas = document.querySelector(this.DOM.portfolioCanvas);\n\n    this.app = null;\n\n    this.displacementTimeline = null;\n  }\n  updateNavStatus(navStatus) {\n    this.navStatus = navStatus;\n  }\n\n  init() {\n    if (this.portfolio !== null) {\n      this.portfolioEvents();\n      this.portfolioController();\n    } else {\n      console.error(`${this.DOM.portfolio} does not exist in the DOM!`);\n    }\n  }\n\n  portfolioEvents() {\n    for (let i = 0; i < this.portfolioItems.length; i++) {\n      this.portfolioItems[i].addEventListener(\"mouseenter\", () => {\n        this.portfolioItemMouseenter(i + 1);\n      });\n\n      this.portfolioItems[i].addEventListener(\"mouseleave\", () => {\n        this.portfolioItemMouseleave();\n      });\n    }\n  }\n\n  portfolioController() {\n    const imageContainer = document.querySelector(\".menu__images__canvas\");\n    let canvasContainer = imageContainer.getBoundingClientRect();\n    const canvasWidth = window.innerWidth - canvasContainer.x;\n\n    const canvasHeight = canvasContainer.height;\n\n    this.app = new PIXI.Application({\n      width: canvasWidth,\n      height: canvasHeight,\n      resolution: window.devicePixelRatio,\n      transparent: true,\n    });\n\n    this.portfolioCanvas.appendChild(this.app.view);\n\n    const displacementMapFile = this.portfolioCanvas.getAttribute(\n      \"data-displacement-map\"\n    );\n\n    const displacementMap = new PIXI.Sprite.from(displacementMapFile);\n\n    const displacementFilter = new PIXI.filters.DisplacementFilter(\n      displacementMap\n    );\n\n    displacementMap.name = displacementMapFile;\n    displacementMap.anchor.set(0.5);\n    displacementMap.scale.set(1);\n    displacementMap.width = canvasWidth;\n    displacementMap.height = canvasHeight;\n    displacementMap.position.set(canvasWidth / 2, canvasHeight / 2);\n\n    this.app.stage.filterArea = this.app.screen;\n    this.app.stage.filters = [displacementFilter];\n\n    this.app.stage.addChild(displacementMap);\n\n    for (let i = 0; i < this.portfolioItems.length; i++) {\n      const imageFile = this.portfolioPreviewItems[i].getAttribute(\n        \"data-portfolio-preview\"\n      );\n\n      const texture = new PIXI.Texture.from(imageFile);\n\n      const image = new PIXI.Sprite(texture);\n\n      image.name = imageFile;\n      image.alpha = 0;\n      image.width = canvasWidth;\n      image.height = canvasHeight;\n\n      this.app.stage.addChild(image);\n    }\n\n    this.displacementTimeline = gsap.timeline({\n      paused: true,\n    });\n\n    const canvasElement = this.portfolioCanvas.querySelector(\"canvas\");\n\n    this.displacementTimeline\n      .add(\"start\")\n      .fromTo(\n        canvasElement,\n        {\n          autoAlpha: 0,\n        },\n        {\n          duration: 0.4,\n          autoAlpha: 1,\n          ease: \"power3.out\",\n        },\n        \"start\"\n      )\n      .fromTo(\n        canvasElement,\n        {\n          scale: 1.5,\n        },\n        {\n          duration: 0.8,\n          scale: 1,\n          ease: \"power3.out\",\n        },\n        \"start\"\n      )\n      .fromTo(\n        displacementFilter.scale,\n        {\n          x: 150,\n          y: 150,\n        },\n        {\n          duration: 1.6,\n          x: 0,\n          y: 0,\n          ease: \"power3.out\",\n          onComplete: () => {},\n        },\n        \"start\"\n      );\n  }\n\n  portfolioItemMouseenter(index) {\n    if (this.navStatus === true) {\n      gsap.to(this.app.stage.children[index], {\n        duration: 0.6,\n        alpha: 1,\n        ease: \"power3.out\",\n        onStart: () => {\n          this.displacementTimeline.restart().pause();\n          this.displacementTimeline.play();\n        },\n      });\n    }\n  }\n\n  portfolioItemMouseleave() {\n    gsap.to(this.app.stage.children, {\n      duration: 0.4,\n      alpha: 0,\n      ease: \"power3.out\",\n    });\n  }\n}\n"],"sourceRoot":""}